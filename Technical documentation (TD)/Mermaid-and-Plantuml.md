---
title: Mermaid and Plantuml
confluence_page_id: "1703946"
confluence_space_key: TD
confluence_version: 5
confluence_last_modified: "2026-02-22T18:39:13Z"
confluence_parent_page_id: "1376436"
---
## Mermaid

```adf:extension
{
  "type": "extension",
  "attrs": {
    "extensionKey": "9d10a082-4d4e-4efa-996b-9c0170f3bfee/7a286cf2-9d8a-4c57-9bd2-102c413343b2/static/mermaid-macro",
    "extensionType": "com.atlassian.ecosystem",
    "layout": "default",
    "localId": "7cc1691a-19db-4c4e-a261-e148acaadce7",
    "parameters": {
      "extensionId": "ari:cloud:ecosystem::extension/9d10a082-4d4e-4efa-996b-9c0170f3bfee/7a286cf2-9d8a-4c57-9bd2-102c413343b2/static/mermaid-macro",
      "extensionProperties": {
        "accountId": "557058:9197d13f-c664-4187-a532-43870123ae4a",
        "cloudId": "61277c4f-19df-4fb1-9928-d3c0aab76429",
        "contextIds": [
          "ari:cloud:confluence:61277c4f-19df-4fb1-9928-d3c0aab76429:workspace/378203fc-f86e-4626-b138-9610f7b45e15"
        ],
        "extension": {
          "appId": "9d10a082-4d4e-4efa-996b-9c0170f3bfee",
          "appVersion": "4.6.0",
          "consentUrl": "https://id.atlassian.com/outboundAuth/start?containerId=9d10a082-4d4e-4efa-996b-9c0170f3bfee_7a286cf2-9d8a-4c57-9bd2-102c413343b2\u0026serviceKey=atlassian-token-service-key\u0026cloudId=61277c4f-19df-4fb1-9928-d3c0aab76429\u0026isAccountBased=true\u0026scopes=read%3Aattachment%3Aconfluence+read%3Aconfluence-content.all+read%3Aconfluence-content.permission+read%3Aconfluence-content.summary+read%3Aconfluence-props+read%3Aconfluence-space.summary+read%3Aconfluence-user+read%3Apage%3Aconfluence+read%3Aspace%3Aconfluence+readonly%3Acontent.attachment%3Aconfluence+search%3Aconfluence+write%3Aconfluence-content+write%3Aconfluence-file+write%3Aconfluence-props+write%3Aconfluence-space+write%3Apage%3Aconfluence+offline_access",
          "dataClassificationPolicyDecision": {
            "status": "ALLOWED"
          },
          "egress": [
            {
              "addresses": [
                "*.atlassian.net"
              ],
              "type": "FETCH_BACKEND_SIDE"
            }
          ],
          "environmentId": "7a286cf2-9d8a-4c57-9bd2-102c413343b2",
          "environmentKey": "production",
          "environmentType": "PRODUCTION",
          "id": "ari:cloud:ecosystem::extension/9d10a082-4d4e-4efa-996b-9c0170f3bfee/7a286cf2-9d8a-4c57-9bd2-102c413343b2/static/mermaid-macro",
          "installationId": "54c41c42-37d1-41cf-86af-9ff09ae2b761",
          "key": "mermaid-macro",
          "properties": {
            "adfExport": {
              "function": "macro-export"
            },
            "categories": [
              "formatting",
              "reporting",
              "visuals"
            ],
            "description": "This macro allows you to use mermaid diagram syntax to enhance your Confluence pages with beautiful diagrams.",
            "icon": "https://icon.cdn.prod.atlassian-dev.net/9d10a082-4d4e-4efa-996b-9c0170f3bfee/7a286cf2-9d8a-4c57-9bd2-102c413343b2/905ecd4e-2b3a-49a2-a4de-2c4c5dd99857/ui/icons/diagram.svg",
            "key": "mermaid-macro",
            "resolver": {
              "function": "resolver"
            },
            "resource": "ui",
            "resourceUploadId": "905ecd4e-2b3a-49a2-a4de-2c4c5dd99857",
            "title": "Mermaid Diagram",
            "type": "xen:macro"
          },
          "scopes": [
            "read:attachment:confluence",
            "read:confluence-content.all",
            "read:confluence-content.permission",
            "read:confluence-content.summary",
            "read:confluence-props",
            "read:confluence-space.summary",
            "read:confluence-user",
            "read:page:confluence",
            "read:space:confluence",
            "readonly:content.attachment:confluence",
            "search:confluence",
            "storage:app",
            "write:confluence-content",
            "write:confluence-file",
            "write:confluence-props",
            "write:confluence-space",
            "write:page:confluence"
          ],
          "type": "xen:macro"
        },
        "extensionData": {
          "content": {
            "id": "1703946",
            "type": "page"
          },
          "space": {
            "id": "1376275",
            "key": "TD"
          },
          "type": "macro"
        }
      },
      "extensionTitle": "Mermaid Diagram",
      "forgeEnvironment": "PRODUCTION",
      "layout": "extension",
      "localId": "7cc1691a-19db-4c4e-a261-e148acaadce7"
    },
    "text": "Mermaid Diagram E2E updated"
  }
}
```

```adf:extension
{
  "type": "extension",
  "attrs": {
    "extensionKey": "9af2fea1-f2ad-41e4-a0de-7235990de16e/470a7f30-da28-4543-80be-2038371d5b5c/static/mermaid",
    "extensionType": "com.atlassian.ecosystem",
    "layout": "default",
    "localId": "8ed3aacf-9952-4be3-a55d-c1c4e52775a8",
    "parameters": {
      "extensionId": "ari:cloud:ecosystem::extension/9af2fea1-f2ad-41e4-a0de-7235990de16e/470a7f30-da28-4543-80be-2038371d5b5c/static/mermaid",
      "extensionProperties": {
        "accountId": "557058:9197d13f-c664-4187-a532-43870123ae4a",
        "cloudId": "61277c4f-19df-4fb1-9928-d3c0aab76429",
        "contextIds": [
          "ari:cloud:confluence:61277c4f-19df-4fb1-9928-d3c0aab76429:workspace/378203fc-f86e-4626-b138-9610f7b45e15"
        ],
        "extension": {
          "appId": "9af2fea1-f2ad-41e4-a0de-7235990de16e",
          "appVersion": "3.2.0",
          "consentUrl": "https://id.atlassian.com/outboundAuth/start?containerId=9af2fea1-f2ad-41e4-a0de-7235990de16e_470a7f30-da28-4543-80be-2038371d5b5c\u0026serviceKey=atlassian-token-service-key\u0026cloudId=61277c4f-19df-4fb1-9928-d3c0aab76429\u0026isAccountBased=true",
          "dataClassificationPolicyDecision": {
            "status": "ALLOWED"
          },
          "egress": [],
          "environmentId": "470a7f30-da28-4543-80be-2038371d5b5c",
          "environmentKey": "production",
          "environmentType": "PRODUCTION",
          "id": "ari:cloud:ecosystem::extension/9af2fea1-f2ad-41e4-a0de-7235990de16e/470a7f30-da28-4543-80be-2038371d5b5c/static/mermaid",
          "installationId": "95679bb4-2a25-436e-9c17-18fa1ff394ce",
          "key": "mermaid",
          "properties": {
            "description": "Create beautiful diagrams using Mermaid syntax",
            "key": "mermaid",
            "resolver": {
              "function": "resolver"
            },
            "resource": "main",
            "resourceUploadId": "5d68be93-d1b5-4c76-a3f2-ff7bca42da29",
            "title": "Mermaid Diagram",
            "type": "xen:macro"
          },
          "scopes": [
            "storage:app"
          ],
          "type": "xen:macro"
        },
        "extensionData": {
          "content": {
            "id": "1703946",
            "type": "page"
          },
          "space": {
            "id": "1376275",
            "key": "TD"
          },
          "type": "macro"
        }
      },
      "extensionTitle": "Mermaid Diagram",
      "forgeEnvironment": "PRODUCTION",
      "layout": "extension",
      "localId": "8ed3aacf-9952-4be3-a55d-c1c4e52775a8"
    },
    "text": "Mermaid Diagram"
  }
}
```

## PlantUML

::: { .adf-extension key="plantumlcloud" filename="Test diagram name.svg" }
```puml
%40startuml%0D%0A!include%20https%3A%2F%2Fraw.githubusercontent.com%2Fplantuml-stdlib%2FC4-PlantUML%2Fmaster%2FC4_Context.puml%0D%0A%0D%0A'%20Title%20for%20the%20diagram%0D%0Atitle%20System%20Context%20Diagram%20for%20Simple%20E-Commerce%20System%0D%0A%0D%0A'%20Define%20the%20people%2Factors%0D%0APerson(customer%2C%20%22Customer%22%2C%20%22A%20customer%20who%20wants%20to%20buy%20products%20online.%22)%0D%0A%0D%0A'%20Define%20the%20systems%0D%0ASystem(ecommerceSystem%2C%20%22E-Commerce%20System%22%2C%20%22Allows%20customers%20to%20view%20products%2C%20manage%20their%20cart%2C%20and%20checkout.%22)%0D%0ASystem_Ext(paymentSystem%2C%20%22Payment%20Gateway%22%2C%20%22Third-party%20system%20that%20processes%20credit%20card%20payments.%22)%0D%0ASystem_Ext(emailSystem%2C%20%22Email%20System%22%2C%20%22External%20system%20that%20sends%20order%20confirmation%20emails.%22)%0D%0A%0D%0A'%20Define%20the%20relationships%0D%0ARel(customer%2C%20ecommerceSystem%2C%20%22Browses%20products%20and%20makes%20purchases%20using%22)%0D%0ARel(ecommerceSystem%2C%20paymentSystem%2C%20%22Processes%20payments%20using%22)%0D%0ARel(ecommerceSystem%2C%20emailSystem%2C%20%22Sends%20emails%20using%22)%0D%0ARel(emailSystem%2C%20customer%2C%20%22Sends%20order%20confirmations%20to%22)%0D%0A%0D%0A%40enduml
```
:::

```adf:extension
{
  "type": "extension",
  "attrs": {
    "extensionKey": "ef9c2b02-5cf5-49e3-8daa-1f9030cd772d/852e0f37-86e2-489f-8ecb-f8eac32a9bff/static/plantuml-diagram",
    "extensionType": "com.atlassian.ecosystem",
    "layout": "default",
    "localId": "0a78bb10-42cf-48a0-86e2-102f2c8d9e61",
    "parameters": {
      "extensionId": "ari:cloud:ecosystem::extension/ef9c2b02-5cf5-49e3-8daa-1f9030cd772d/852e0f37-86e2-489f-8ecb-f8eac32a9bff/static/plantuml-diagram",
      "extensionProperties": {
        "accountId": "557058:9197d13f-c664-4187-a532-43870123ae4a",
        "cloudId": "61277c4f-19df-4fb1-9928-d3c0aab76429",
        "contextIds": [
          "ari:cloud:confluence:61277c4f-19df-4fb1-9928-d3c0aab76429:workspace/378203fc-f86e-4626-b138-9610f7b45e15"
        ],
        "extension": {
          "appId": "ef9c2b02-5cf5-49e3-8daa-1f9030cd772d",
          "appVersion": "4.6.0",
          "consentUrl": "https://id.atlassian.com/outboundAuth/start?containerId=ef9c2b02-5cf5-49e3-8daa-1f9030cd772d_852e0f37-86e2-489f-8ecb-f8eac32a9bff\u0026serviceKey=atlassian-token-service-key\u0026cloudId=61277c4f-19df-4fb1-9928-d3c0aab76429\u0026isAccountBased=true",
          "dataClassificationPolicyDecision": {
            "status": "ALLOWED"
          },
          "egress": [
            {
              "addresses": [
                "*"
              ],
              "type": "IMAGES"
            }
          ],
          "environmentId": "852e0f37-86e2-489f-8ecb-f8eac32a9bff",
          "environmentKey": "production",
          "environmentType": "PRODUCTION",
          "id": "ari:cloud:ecosystem::extension/ef9c2b02-5cf5-49e3-8daa-1f9030cd772d/852e0f37-86e2-489f-8ecb-f8eac32a9bff/static/plantuml-diagram",
          "installationId": "731dd7fd-13d2-4341-a22d-30a25a4d37b2",
          "key": "plantuml-diagram",
          "properties": {
            "config": {
              "render": "native",
              "resource": "macro-config",
              "title": "Config",
              "viewportSize": "max"
            },
            "description": "Insert a PlantUML diagram",
            "key": "plantuml-diagram",
            "render": "native",
            "resolver": {
              "function": "resolver"
            },
            "resource": "main",
            "resourceUploadId": "ee71ebb8-d311-4733-993f-e0a1219b9deb",
            "title": "PlantUML Diagram",
            "type": "xen:macro"
          },
          "scopes": [
            "storage:app"
          ],
          "type": "xen:macro"
        },
        "extensionData": {
          "content": {
            "id": "1703946",
            "type": "page"
          },
          "space": {
            "id": "1376275",
            "key": "TD"
          },
          "type": "macro"
        }
      },
      "extensionTitle": "PlantUML Diagram",
      "forgeEnvironment": "PRODUCTION",
      "guestParams": {
        "diagramCaption": "test test e2e updated",
        "plantumlCode": "@startuml\n!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Context.puml\n\n' Title for the diagram\ntitle System Context Diagram for Simple E-Commerce System\n\n' Define the people/actors\nPerson(customer, \"Customer\", \"A customer who wants to buy products online.\")\n\n' Define the systems\nSystem(ecommerceSystem, \"E-Commerce System\", \"Allows customers to view products, manage their cart, and checkout.\")\nSystem_Ext(paymentSystem, \"Payment Gateway\", \"Third-party system that processes credit card payments.\")\nSystem_Ext(emailSystem, \"Email System\", \"External system that sends order confirmation emails.\")\n\n' Define the relationships\nRel(customer, ecommerceSystem, \"Browses products and makes purchases using\")\nRel(ecommerceSystem, paymentSystem, \"Processes payments using\")\nRel(ecommerceSystem, emailSystem, \"Sends emails using\")\nRel(emailSystem, customer, \"Sends order confirmations to\")\n\n@enduml"
      },
      "layout": "extension",
      "localId": "0a78bb10-42cf-48a0-86e2-102f2c8d9e61",
      "render": "native"
    },
    "text": "PlantUML Diagram"
  }
}
```
